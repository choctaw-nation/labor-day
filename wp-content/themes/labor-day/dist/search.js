!function(){"use strict";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{DB:function(){return o},CF:function(){return d}});var t=window.wp.element;function n(){return(0,t.createElement)("div",{className:"lds-ring"},[1,2,3,4].map((e=>(0,t.createElement)("div",null))))}var a=new class{async makeRequest(e){try{const t=await fetch(`${d}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),{data:n}=await t.json();return n}catch(e){throw console.error("makeRequest error:",e),e}}async getFilters(){try{return await this.makeRequest("query Filters {\n\t\t\tevent_types {\n\t\t\t\tnodes {\n\t\t\t\t\tevent_typeId\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent_locations {\n\t\t\t\tnodes {\n\t\t\t\t\tname\n\t\t\t\t\tevent_locationId\n\t\t\t\t}\n\t\t\t}\n\t\t}")}catch(e){console.error(e)}}async getPosts(){const e={query:'query Events($first: Int = 4, $after: String = "", $include: [MediaItemSizeEnum] = [LARGE], $size: MediaItemSizeEnum = LARGE) {\n  events(after: $after, first: $first) {\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    nodes {\n      eventLocations {\n        nodes {\n          name\n          link\n          event_locationId\n        }\n      }\n      event_info {\n        description\n        info {\n          day\n          endTime\n          startTime\n        }\n      }\n      featuredImage {\n        node {\n          altText\n          mediaDetails {\n            sizes(include: $include) {\n              height\n              name\n              width\n              sourceUrl\n            }\n          }\n          srcSet(size: $size)\n\t\t  sizes(size: $size)\n        }\n      }\n      title(format: RENDERED)\n      link\n\t  eventId\n      eventTypes {\n        nodes {\n          event_typeId\n          name\n          link\n        }\n      }\n    }\n  }\n  eventTypes {\n    nodes {\n      event_typeId\n      name\n\t  link\n    }\n  }\n  eventLocations {\n    nodes {\n      name\n      link\n      event_locationId\n    }\n  }\n}',variables:{first:Number(o),after:"",include:["LARGE"],size:"LARGE"}};try{return await this.makeRequest(e)}catch(e){console.error(e)}}};function s(e){let{filters:n,checkedFilters:a,setCheckedFilters:s}=e;return(0,t.createElement)("div",{className:"cno-event-search-filters"},n.map((e=>{let{type:n,slug:a,name:s}=e;(0,t.createElement)("div",{className:"cno-event-sesarch-filters__container"},(0,t.createElement)("h4",{className:"cno-event-search-filters__title"},n),(0,t.createElement)("div",{className:"cno-event-search-filters__filter"},(0,t.createElement)("input",{type:"checkbox",name:a,id:a}),(0,t.createElement)("label",{htmlFor:a},s)))})))}function r(e){let{filters:n,setFilters:a,checkedFilters:r,setCheckedFilters:c}=e;const[l,i]=(0,t.useState)(!1);return(0,t.createElement)("section",{className:"cno-event-search"},(0,t.createElement)("div",{className:"container"},(0,t.createElement)("h2",{className:"cno-event-search__title"},"Search Events"),(0,t.createElement)("input",{type:"text",name:"search",id:"search",placeholder:"Find an Event"}),(0,t.createElement)("div",{className:"cno-event-search__filters"},(0,t.createElement)("div",{className:"cno-event-search__filters--header"},(0,t.createElement)("h3",{className:"cno-event-search__filters--title"},"Filters"),(0,t.createElement)("button",{className:"btn__outline--secondary",onClick:()=>{i(!l)}},l?"Hide Filters":"Show Filters")),l&&(0,t.createElement)(s,{filters:n,checkedFilters:r,setCheckedFilters:c}))))}function c(e){let{data:n}=e;const{locations:a,eventId:s,link:r,title:c,event_info:l,altText:i,srcSet:o,size:m,sizes:d,type:u}=n;return(0,t.createElement)("article",{className:"cno-event"},(0,t.createElement)("figure",{className:"cno-event__image"},(0,t.createElement)("img",{width:m.width,height:m.height,src:"",className:"attachment-large size-large wp-post-image",alt:i,decoding:"async",srcSet:o,sizes:d})),(0,t.createElement)("h2",null,c),(0,t.createElement)("aside",{className:"event-meta"},(0,t.createElement)("div",{className:"event-meta__day"},(0,t.createElement)("strong",null,"When: "),l.info.day,", September 1"),(0,t.createElement)("div",{className:"event-meta__location"},(0,t.createElement)("strong",null,"Where:")," ",(0,t.createElement)("a",{href:a[0].link,rel:"tag"},a[0].name)),(0,t.createElement)("div",{className:"event-meta__start-time"},(0,t.createElement)("strong",null,"Start Time:")," "+l.info.startTime),l.info.endTime&&(0,t.createElement)("div",{className:"event-meta__end-time"},(0,t.createElement)("strong",null,"End Time:")," ",l.info.endTime),(0,t.createElement)("div",{className:"event-meta__type"},(0,t.createElement)("strong",null,"Event Type:")," ",(0,t.createElement)("a",{href:"${type[0].link}",rel:"tag"},u[0].name))),(0,t.createElement)("div",{className:"about"},l.description),(0,t.createElement)("div",{className:"cno-event__buttons"},(0,t.createElement)("button",{className:"btn__fill--primary","data-add-to-schedule":"true","data-id":s},"Add to Schedule"),(0,t.createElement)("a",{href:r,className:"btn__outline--primary"},"Learn More"),(0,t.createElement)("div",{className:"cno-event-schedule-confirmation"})))}function l(e){const{eventLocations:{nodes:t}}=e,{eventTypes:{nodes:n}}=e,{eventId:a,link:s,title:r}=e,{event_info:c}=e,{featuredImage:{node:{altText:l,srcSet:i,mediaDetails:o,sizes:m}}}=e;return{locations:t,type:n,sizes:m,eventId:a,link:s,title:r,event_info:c,altText:l,srcSet:i,size:o.sizes[0]}}function i(e){let{posts:n}=e;return(0,t.createElement)("section",{className:"cno-events"},n.map((e=>(0,t.createElement)(c,{data:l(e)}))))}const{postsPerPage:o,rootUrl:m}=cnoSiteData,d=`${m}/graphql`,u=document.getElementById("app");u&&(0,t.createRoot)(u).render((0,t.createElement)((function(){const[e,s]=(0,t.useState)(!0),[c,l]=(0,t.useState)([]),[o,m]=(0,t.useState)(),[d,u]=(0,t.useState)([]);return(0,t.useEffect)((()=>{a.getPosts().then((e=>{let{eventLocations:t,eventTypes:n,events:a,pageInfo:r}=e;l(a.nodes);const c=[...n.nodes,...t.nodes];m(c),s(!1)}))}),[]),e?(0,t.createElement)(n,null):(0,t.createElement)("div",{className:"cno-search"},(0,t.createElement)(r,{filters:o,setFilters:m,checkedFilters:d,setCheckedFilters:u}),(0,t.createElement)("div",{className:"container"},(0,t.createElement)(i,{posts:c})))}),null))}();